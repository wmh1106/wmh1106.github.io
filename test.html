<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    var Storage = (function () {
      return {
        set: function (key, value, time) {
          expire = time === undefined ? undefined : Date.now() + 1000 * time;
          localStorage[key] = JSON.stringify({
            value: value,
            expire: expire
          });
        },
        get: function (key) {
          if (localStorage[key] === undefined) {
            return "没有值";
          }
          var val = JSON.parse(localStorage[key]);
          if (val.expire === undefined || Date.now() < val.expire) {
            return val.value;
          } else {
            delete localStorage[key];
            return '已过期'
          }
        }
      };
    })();
    Storage.set('name', '饥人谷');
    Storage.set('age', 2, 3);
    Storage.set('teachers', ['ruoyu', 'fangfang', 'tom'], 60);
    console.log(Storage.get('name'));
    console.log(Storage.get('age'));
    console.log(Storage.get('teachers'));
    setTimeout(function () {
      console.log(Storage.get('age'))
    }, 4000)
  </script>
</body>

</html>