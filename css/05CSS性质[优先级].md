# CSS 选择器的优先级

## 1. 特殊性值表示 4 个部分：（选择器的优先级）

- 内联特殊性，加`1,0,0,0`
- ID 属性值，加`0,1,0,0`
- class、属性选择器、伪类：加`0,0,1,0`
- 元素、伪元素：加`0,0,0,1`
- 结合符和通配选择器：对特殊性没有任何贡献（**`不是没有特殊性`**）

测试工具：[https://specificity.keegan.st/](https://specificity.keegan.st/)

## 2. 声明和特殊性（声明样式）

- 确定特殊性
- “解组”为单独的规则

```CSS
h1{color:red;background:black;}
/* 解组 */
h1{color:red;}
h1{background:black;}
```

声明相互冲突时，特殊性就显得尤为重要

### 重要性`!important`：它的优先级最高

### 继承

某个元素，对它声明的 CSS 属性值 会沿着树结构，向下传播到后代元素，并一直继续，直到没有后代元素继承这个样式为止。这个值绝对不会向上传播。

显示继承：`inherit`

每个 CSS 样式都有初始值

**`一般的框属性（margin、border、padding、width、height）、背景不能继承`，继承的一般是文本相关的属性**

### 层叠

> 确定应当向一个元素应用哪些值时，用户代理不仅要考虑继承，还要考虑声明的特殊性，另外需要考虑声明本身的来源。这个过程就称为层叠（cascade）

上面这段话我理解不来，还是乖乖看下面的代码吧。

当特殊性相等的两个规则 ，应用到同一个元素.该选哪一个？

```CSS
h1{color:red;}
h1{color:pink;}
```

通过层叠规则：

- 有`!important`大于无`!important`
- 特殊性排序
- 出现顺序排序：如果是导入的（@import），导入声明在前，主样式表中所有声明在后

#### 总结：

- 根据来源：
  - 浏览器预设 < 网页样式（开发者的 CSS 样式表）
- 同一个来源
  - 按照特殊性
- 特异度相同
  - 按照书写顺序
- **`注意：`**含`!important`样式
